" vim: set filetype=vim foldmethod=marker:

" Settings {{{
" Runtimepath
set runtimepath="$XDG_CONFIG_HOME/vimperator"
" Set default search engine
set newtab=all
" Mapleader for a few keybindings
let mapleader=","

" Appearance {{{
!!@@
" Show these in status line
set status="input,history,location,bookmark"
" Only show tab line
set gui="none,tabs"
" }}}
" Completion {{{
" Completion menu can be activated on <tab> on command mode
set autocomplete=false
" Complete bookmarks and local files by default
set complete="bf"
" First complete to longest common substring, then fully complete next match
set wildmode="list:longest,full"
" }}}
" Hints {{{
" Match on labels only
set hintinputs="label"
set hintchars="abcdefghijklmnopqrstuvwxyz"
" }}}
" }}}
" Keybindings {{{
" Movement {{{
" hjkl replacement
noremap <silent> d <left>
noremap <silent> t <down>
noremap <silent> r <up>
noremap <silent> n <right>

" Replacement for the hjkl replacement
" k/K "kills" tabs
noremap <silent> k d
noremap <silent> K D
" e/E opens things in new tabs
" Seriously, I got nothin'
noremap <silent> e t
noremap <silent> E T
" r/R reloads a tab
noremap <silent> h r
noremap <silent> H R
" l/L "looks" for the next match
noremap <silent> l n
noremap <silent> L N

" Move between tabs
noremap <silent> D <c-p>
noremap <silent> N <c-n>

" Move forwards/backwards in history
noremap <silent> T <c-i>
noremap <silent> R <c-o>

" Move between frames more easily
nnoremap ö [
vnoremap ö [
nnoremap ä ]
vnoremap ä ]
" These have to be specified explicitly
nnoremap öö [[
nnoremap ää ]]

" Easier :tabmove; wraps around
nnoremap <silent> <c-d> :tabmove! -1<cr>
nnoremap <silent> <c-n> :tabmove! +1<cr>

" No need to move from homerow in command-line and insert mode
cnoremap <silent> <c-d> <left>
cnoremap <silent> <c-t> <down>
cnoremap <silent> <c-r> <up>
cnoremap <silent> <c-n> <right>
inoremap <silent> <c-d> <left>
inoremap <silent> <c-t> <down>
inoremap <silent> <c-r> <up>
inoremap <silent> <c-n> <right>

" }}}
" Tabgroup management {{{
" Toggle tabgroups screen
noremap <silent> <leader>tt <c-s-e>
" List all tabgroups
noremap <silent> <leader>tl :tabgroups<cr>
" Create and switch to tabgroup
noremap <leader>ta :tabgroups add<space>
" Pull tab from tabgroup and switch to it
noremap <leader>ty :tabgroups pulltab!<space>
" Pull tab from tabgroup
noremap <leader>tY :tabgroups pulltab<space>
" Move current tab to new tabgroup and create it if necessary
noremap <leader>tp :tabgroups pushtab!<space>
" Remove a tabgroup
noremap <leader>td :tabgroups remove<space>
" Remove current tabgroup
noremap <silent> <leader>tD :tabgroups remove<cr>
" Switch to next tabgroup
noremap <silent> <leader>ts :tabgroups 1switch<cr>
noremap <silent> ]t :tabgroups 1switch<cr>
" Switch to a tabgroup
noremap <leader>tS :tabgroups switch<space>

" }}}
" Easier full zoom
noremap + zI
noremap \- zO
" I'm used to the CtrlP Vim plugin, so…
noremap <leader>b :buffer #
" Toggle app tab for current tab
noremap <leader>a :set invapptab<cr>
" Toggle navbar display
noremap <leader>N :set toolbars=invnavigation<cr>
" Toggle tabbar display
noremap <leader>T :set toolbars=invtabs<cr>
" Additional reload bindings
noremap <silent> <c-r> :reloadall<cr>
noremap <silent> <c-s-r> :reloadall!<cr>
" Open bookmarks
noremap <silent> <f2> :bmarks<cr>
" Remove search highlighting
noremap <silent> <cr> :nohl<cr>
" }}}
